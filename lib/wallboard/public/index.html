<!DOCTYPE html>
<html>
	<head>
		<title>Wallboard</title>
		
        <link rel="stylesheet" href="bower_components/foundation/css/normalize.css">
        <link rel="stylesheet" href="bower_components/foundation/css/foundation.css">		
        <link rel="stylesheet" href="bower_components/fontawesome/css/font-awesome.min.css">
        <link rel="stylesheet" href="bower_components/jquery-ui/themes/base/all.css" />        
        <link rel="stylesheet" href="bower_components/angular-gridster/dist/angular-gridster.min.css" />        
		<link rel="stylesheet" href="wb.css">
        <%= css :plugins %>
	</head>
	<body ng-app="wb" ng-controller="wb">		    
        
        <div id="wallboard">
            
            <div class="wb-loading" ng-show="!widgets">
                <i class="fa fa-th"></i>
                <div>Loading <strong>Wallboard</strong></div>
                <i class="fa fa-spin fa-circle-o-notch"></i>
            </div>
            
            <div class="wb-bootstrap" ng-show="widgets.length == 0">
                <i class="fa fa-th"></i>
                <h1>Welcome to <strong>Wallboard</strong></h1>
                <h2>Scroll down to get started!</h2>
                <i class="fa fa-angle-down"></i>
            </div>
            
            <div ng-show="widgets.length > 0" gridster="gridsterOpts" class="wb-grid">
                <ul>
                    <li
                        ng-controller="widget"
                        gridster-item                    
                        ng-repeat="widget in widgets"
                        row="widget.layout.y"
                        col="widget.layout.x"
                        size-x="widget.layout.w"
                        size-y="widget.layout.h">

                        <div class="wb-w-loading" ng-show="loading">
                            <h1><i class="fa fa-th"></i></h1>
                            <div>Loading <strong>{{widget.name}}</strong></div>
                            <i class="fa fa-spin fa-circle-o-notch"></i>
                        </div>

                        <div ng-show="!loading && widget.config"
                             class="wb-widget wb-widget-{{widget.name}}"
                             ng-include="widget.name + '/public/index.html'">
                        </div>

                        <div class="wb-w-settings" ng-show="!widget.config">
                            <strong>{{widget.name}}</strong> widget!<br><a href="settings"><i class="fa fa-cog"></i> Set up</a>
                        </div>
                    </li>
                </ul>            
            </div>
        </div>        
        
        <div id="backpanel">
            <div class="available">
                <h2><i class="fa fa-plus-square-o"></i> Add widgets</h2>
                <ul class="small-block-grid-2 medium-block-grid-3 large-block-grid-4">  
                    <li ng-repeat="plugin in plugins">                                                                
                        <a href="" ng-click="addWidget(plugin)">                        
                            <div class="title">
                                <img fallback-src ng-src="/{{plugin.name}}/public/image.png">
                                <strong>{{plugin.name}}</strong>
                            </div>
                            <p class="description">Here goes the description...</p>
                        </a>
                    </li>
                </ul>
            </div>
        </div>        
        
        <footer>
            <h3><i class="fa fa-th"> </i> Wallboard</h3>
        </footer>
        
        <script type="text/javascript" src="bower_components/jquery/dist/jquery.js"></script>
        <script type="text/javascript" src="bower_components/jquery-ui/jquery-ui.min.js"></script>
        <script type="text/javascript" src="bower_components/javascript-detect-element-resize/jquery.resize.js"></script>
        <script type="text/javascript" src="bower_components/angular/angular.min.js"></script>  
        <script type="text/javascript" src="bower_components/angular-gravatar/build/md5.js"></script>
        <script type="text/javascript" src="bower_components/angular-gravatar/build/angular-gravatar.js"></script>		        
        <script type="text/javascript" src="bower_components/angular-gridster/src/angular-gridster.js"></script>		
        <script type="text/javascript" src="bower_components/angular-img-fallback/angular.dcb-img-fallback.min.js"></script>
        
        <script type="text/javascript" src="wb.js"></script>

        <%= js :plugins %>

	</body>
</html>